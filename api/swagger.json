{
    "swagger": "2.0",
    "info": {
        "version": "1.0",
        "title": "Recruitment Registry",
        "license": {
            "name": "Apache 2.0"
        }
    },
    "basePath": "/api/v1.0",
    "schemes": [
        "http"
    ],
    "consumes": [
        "application/json"
    ],
    "produces": [
        "application/json"
    ],
    "paths": {
        "/auth/basic": {
            "x-swagger-router-controller": "auth.controller",
            "get": {
                "summary": "Gets authorization token (JWT)",
                "operationId": "authenticateBasic",
                "parameters": [{
                    "name": "Authorization",
                    "description": "Basic authentication header 'Basic ...' where '...' is base64 encoded string for 'username:password'",
                    "in": "header",
                    "required": true,
                    "type": "string"
                }],
                "description": "Returns JWT token that can be used as API key.  Prefix with 'Bearer ' before pasting.",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/token"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/users": {
            "x-swagger-router-controller": "user.controller",
            "post": {
                "operationId": "createNewUser",
                "summary": "Creates new user",
                "parameters": [{
                    "name": "user",
                    "in": "body",
                    "description": "User specification",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/user"
                    }
                }],
                "responses": {
                    "201": {
                       "$ref": "#/responses/idSuccess"
                     },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/users/me": {
            "x-swagger-router-controller": "user.controller",
            "get": {
                "operationId": "showCurrentUser",
                "summary": "Gets current user",
                "security": [{
                    "self": []
                }],
                "responses": {
                    "200": {
                        "description": "Successul response",
                        "schema": {
                            "$ref": "#/definitions/user"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "patch": {
                "operationId": "updateCurrentUser",
                "summary": "Updates current user fields",
                "security": [{
                    "self": []
                }],
                "parameters": [{
                    "name": "user",
                    "in": "body",
                    "description": "User fields to be updated",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/userUpdate"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successul response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/users/password": {
            "x-swagger-router-controller": "user.controller",
            "post": {
                "operationId": "resetPassword",
                "summary": "Resets password",
                "parameters": [{
                    "name": "resetInfo",
                    "in": "body",
                    "description": "Reset token and new password",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/resetPasswordInfo"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successul response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/users/consent-documents": {
            "x-swagger-router-controller": "user.controller",
            "get": {
                "operationId": "listConsentDocuments",
                "summary": "Lists consent documents (section)",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successul response",
                        "schema": {
                            "$ref": "#/definitions/consentDocumentDashboard"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/surveys": {
            "x-swagger-router-controller": "survey.controller",
            "post": {
                "summary": "Creates new survey",
                "operationId": "createSurvey",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "newSurvey",
                    "in": "body",
                    "description": "Definition of a new survey.  Existing questions have 'id' only and new questions have other fields.",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/newSurvey"
                    }
                }, {
                    "name": "parent",
                    "in": "query",
                    "description": "Parent id",
                    "required": false,
                    "type": "integer"
                }],
                "responses": {
                    "201": {
                        "$ref": "#/responses/idSuccess"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "get": {
                "summary": "Lists surveys",
                "description": "Only returns id and name fields.",
                "operationId": "listSurveys",
                "security": [{
                    "admin": []
                },{

                    "participant": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response.",
                        "schema": {
                            "$ref": "#/definitions/surveyDashboard"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/surveys/{id}": {
            "x-swagger-router-controller": "survey.controller",
            "parameters": [{
                "name": "id",
                "in": "path",
                "required": true,
                "type": "integer"
            }],
            "get": {
                "summary": "Gets survey",
                "operationId": "getSurvey",
                "security": [{
                    "admin": []
                },{

                    "participant": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successul response",
                        "schema": {
                            "$ref": "#/definitions/survey"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "patch": {
                "summary": "Updates survey",
                "operationId": "updateSurvey",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "surveyUpdate",
                    "in": "body",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/surveyUpdate"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successful response."
                    },
                   "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "delete": {
                "summary": "Deletes survey",
                "operationId": "deleteSurvey",
                "security": [{
                    "admin": []
                }],
                "responses": {
                    "204": {
                        "description": "Successful response."
                    },
                   "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/surveys/text/{language}": {
            "x-swagger-router-controller": "survey.controller",
            "patch": {
                "summary": "Updates or translates survey text fields",
                "operationId": "updateSurveyText",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "path",
                    "description": "Language code",
                    "required": true,
                    "type": "string",
                    "minLength": 2
                }, {
                    "name": "textUpdate",
                    "in": "body",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/surveyTextUpdate"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successul response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/surveys/{id}/sections": {
            "parameters": [{
                "name": "id",
                "in": "path",
                "required": true,
                "type": "integer"
            }],
            "x-swagger-router-controller": "survey.controller",
            "patch": {
                "summary": "Replaces survey sections",
                "operationId": "replaceSurveySections",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "sections",
                    "in": "body",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/newSections"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successul response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/surveys/name/{name}": {
            "x-swagger-router-controller": "survey.controller",
            "get": {
                "summary": "Gets survey by name",
                "operationId": "getSurveyByName",
                "parameters": [{
                    "name": "name",
                    "in": "path",
                    "required": true,
                    "type": "string"
                }, {
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successul response",
                        "schema": {
                            "$ref": "#/definitions/survey"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/answered-surveys/{id}": {
            "x-swagger-router-controller": "survey.controller",
            "get": {
                "summary": "Get survey with answers",
                "operationId": "getAnsweredSurvey",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "type": "integer"
                }, {
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successul response",
                        "schema": {
                            "$ref": "#/definitions/survey"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/answered-surveys/name/{name}": {
            "x-swagger-router-controller": "survey.controller",
            "get": {
                "summary": "Get survey with answers by name",
                "operationId": "getAnsweredSurveyByName",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "name",
                    "in": "path",
                    "required": true,
                    "type": "string"
                }, {
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successul response",
                        "schema": {
                            "$ref": "#/definitions/survey"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/answers": {
            "x-swagger-router-controller": "answer.controller",
            "post": {
                "description": "This persists answers to survey questions.  Old answers are soft deleted.  For each question for which there is no answer property, any existing answer will be soft deleted.",
                "summary": "Creates answers",
                "operationId": "createAnswers",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "surveyAnswers",
                    "in": "body",
                    "description": "Answers to the survey",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/surveyAnswers"
                    }
                }, {
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "204": {
                        "description": "Successful response."
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "get": {
                "summary": "Gets answers",
                "operationId": "getAnswers",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "surveyId",
                    "in": "query",
                    "description": "Survey id",
                    "required": true,
                    "type": "integer"
                }],
                "responses": {
                    "200": {
                        "description": "Successful response.",
                        "schema": {
                            "$ref": "#/definitions/linkedAnswers"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/profile-survey": {
            "x-swagger-router-controller": "profile-survey.controller",
            "post": {
                "summary": "Creates/replaces profile survey",
                "operationId": "createProfileSurvey",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "newSurvey",
                    "in": "body",
                    "description": "Profile survey",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/newSurvey"
                    }
                }],
                "responses": {
                    "201" : {
                        "$ref": "#/responses/idSuccess"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "get": {
                "summary": "Gets profile survey",
                "operationId": "getProfileSurvey",
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200" : {
                        "description": "Successul response",
                        "schema": {
                            "$ref": "#/definitions/survey"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/profile-survey/text/{language}": {
            "x-swagger-router-controller": "profile-survey.controller",
            "patch": {
                "summary": "Updates or translates profile survey text fields",
                "operationId": "updateProfileSurveyText",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "path",
                    "description": "Language code",
                    "required": true,
                    "type": "string",
                    "minLength": 2
                }, {
                    "name": "textUpdate",
                    "in": "body",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/profileSurveyTextUpdate"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successul response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/profiles": {
            "x-swagger-router-controller": "profile.controller",
            "post": {
                "summary": "Creates registry user profile",
                "operationId": "createProfile",
                "parameters": [{
                    "name": "newUserProfile",
                    "in": "body",
                    "description": "Registration information of new user",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/newUserProfile"
                    }
                }, {
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "201": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/token"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "patch": {
                "summary": "Updates registry user profile",
                "operationId": "updateProfile",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "updateUserProfile",
                    "in": "body",
                    "description": "Update information of user",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/updateUserProfile"
                    }
                }, {
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "204": {
                        "description": "Successful response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "get": {
                "summary": "Gets user profile",
                "operationId": "getProfile",
                "security": [{
                    "participant": []
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/userProfile"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/reset-tokens": {
            "x-swagger-router-controller": "reset-token.controller",
            "post": {
                "summary": "Generates reset token and e-mail",
                "operationId": "resetToken",
                "parameters": [{
                    "name": "email",
                    "in": "body",
                    "description": "User email for password reset",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/resetTokenRecipient"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successful response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/questions": {
            "x-swagger-router-controller": "question.controller",
            "post": {
                "summary": "Creates new question",
                "operationId": "createQuestion",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "newQuestion",
                    "in": "body",
                    "description": "Question object",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/newQuestion"
                    }
                }, {
                    "name": "parent",
                    "in": "query",
                    "description": "Parent id",
                    "required": false,
                    "type": "integer"
                }],
                "responses": {
                    "201": {
                        "$ref": "#/responses/idSuccess"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "get": {
                "summary": "Lists questions",
                "operationId": "listQuestions",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language requested",
                    "required": false,
                    "type": "string",
                    "minLength": 1
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/questions"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/questions/{id}": {
            "x-swagger-router-controller": "question.controller",
            "parameters": [{
                "name": "id",
                "in": "path",
                "required": true,
                "type": "integer"
            }],
            "get": {
                "summary": "Gets question",
                "operationId": "getQuestion",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language requested",
                    "required": false,
                    "type": "string",
                    "minLength": 1
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/question"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "delete": {
                "summary": "Deletes question",
                "operationId": "deleteQuestion",
                "security": [{
                    "admin": []
                }],
                "responses": {
                    "204": {
                        "description": "Successful response."
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/questions/text/{language}": {
            "x-swagger-router-controller": "question.controller",
            "patch": {
                "summary": "Updates or translates question text fields",
                "operationId": "updateQuestionText",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "path",
                    "description": "Language code",
                    "required": true,
                    "type": "string",
                    "minLength": 2
                }, {
                    "name": "textUpdate",
                    "in": "body",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/questionTextUpdate"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successul response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-types": {
            "x-swagger-router-controller": "consent-type.controller",
            "post": {
                "summary": "Creates new consent type",
                "description": "Each consent type describes a consent section that users have to accept for various registry functionality.  There can be multiple consent sections with the same type but only one of them can be active at one time.",
                "operationId": "createConsentType",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "newConsentType",
                    "in": "body",
                    "description": "New consent type.",
                    "required": true,
                    "schema": {
                        "type": "object",
                        "required": ["name", "title", "type"],
                        "properties": {
                            "name": {
                                "type": "string",
                                "minLength": 1
                            },
                            "title": {
                                "type": "string",
                                "minLength": 1
                            },
                            "type": {
                                "type": "string",
                                "minLength": 1
                            }
                        },
                        "additionalProperties": false
                    }
                }],
                "responses": {
                    "201": {
                        "$ref": "#/responses/idSuccess"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "get": {
                "summary": "Lists consent types",
                "operationId": "listConsentTypes",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentTypes"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-types/{id}": {
            "x-swagger-router-controller": "consent-type.controller",
            "parameters": [{
                "name": "id",
                "in": "path",
                "required": true,
                "type": "integer"
            }],
            "get": {
                "summary": "Gets consent type",
                "operationId": "getConsentType",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response.",
                        "schema": {
                            "$ref": "#/definitions/consentType"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "delete": {
                "summary": "Deletes consent type",
                "operationId": "deleteConsentType",
                "security": [{
                    "admin": []
                }],
                "responses": {
                    "204": {
                        "description": "Successful response."
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-types/text/{language}": {
            "x-swagger-router-controller": "consent-type.controller",
            "patch": {
                "summary": "Updates or translates consent type tetx fields",
                "operationId": "updateConsentTypeText",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "path",
                    "description": "Language code",
                    "required": true,
                    "type": "string",
                    "minLength": 2
                }, {
                    "name": "textUpdate",
                    "in": "body",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/consentTypeTextUpdate"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successul response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-documents": {
            "x-swagger-router-controller": "consent-document.controller",
            "post": {
                "summary": "Creates consent document (section)",
                "operationId": "createConsentDocument",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "newConsentDocument",
                    "in": "body",
                    "description": "Content text",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/newConsentDocument"
                    }
                }],
                "responses": {
                    "201": {
                        "$ref": "#/responses/idSuccess"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-documents/{id}": {
            "x-swagger-router-controller": "consent-document.controller",
            "parameters": [{
                "name": "id",
                "in": "path",
                "required": true,
                "type": "integer"
            }],
            "get": {
                "summary": "Gets consent document (section)",
                "operationId": "getConsentDocument",
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentDocument"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-documents/type-name/{typeName}": {
            "x-swagger-router-controller": "consent-document.controller",
            "parameters": [{
                "name": "typeName",
                "in": "path",
                "required": true,
                "type": "string"
            }],
            "get": {
                "summary": "Gets consent document (section)",
                "operationId": "getConsentDocumentByTypeName",
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentDocument"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-documents/{id}/with-signature": {
            "x-swagger-router-controller": "consent-document.controller",
            "parameters": [{
                "name": "id",
                "in": "path",
                "required": true,
                "type": "integer"
            }],
            "get": {
                "summary": "Gets consent document/signature (section)",
                "operationId": "getSignedConsentDocument",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentDocumentWithSignature"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-documents/type-name/{typeName}/with-signature": {
            "x-swagger-router-controller": "consent-document.controller",
            "parameters": [{
                "name": "typeName",
                "in": "path",
                "required": true,
                "type": "string"
            }],
            "get": {
                "summary": "Gets consent document (section)/signature by type name",
                "operationId": "getSignedConsentDocumentByTypeName",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentDocumentWithSignature"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-documents/update-comments/{typeId}": {
            "x-swagger-router-controller": "consent-document.controller",
            "parameters": [{
                "name": "typeId",
                "in": "path",
                "required": true,
                "type": "integer"
            }],
            "get": {
                "summary": "Gets update comments history for consent type",
                "operationId": "getUpdateCommentHistory",
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentUpdateComments"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-documents/text/{language}": {
            "x-swagger-router-controller": "consent-document.controller",
            "patch": {
                "summary": "Translates consent document (section)",
                "operationId": "updateConsentDocumentText",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "path",
                    "description": "Language code",
                    "required": true,
                    "type": "string",
                    "minLength": 2
                }, {
                    "name": "textUpdate",
                    "in": "body",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/consentDocumentTextUpdate"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successul response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-signatures": {
            "x-swagger-router-controller": "consent-signature.controller",
            "post": {
                "summary": "Marks consent document (section) signed",
                "operationId": "createSignature",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "consent_document",
                    "in": "body",
                    "description": "ConsentDocument to be signed",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/signedConsentDocument"
                    }
                }, {
                    "name": "language",
                    "in": "query",
                    "description": "Language when document signed",
                    "required": false,
                    "type": "string",
                    "minLength": 1
                }],
                "responses": {
                    "201": {
                        "$ref": "#/responses/idSuccess"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-signatures/bulk": {
            "x-swagger-router-controller": "consent-signature.controller",
            "post": {
                "summary": "Marks consent documents (sections) signed",
                "operationId": "bulkCreateSignatures",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "consent_documents",
                    "in": "body",
                    "description": "Id of consent documents to be signed",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/signedConsentDocuments"
                    }
                }, {
                    "name": "language",
                    "in": "query",
                    "description": "Language when documents signed",
                    "required": false,
                    "type": "string",
                    "minLength": 1
                }],
                "responses": {
                    "201": {
                        "$ref": "#/responses/anyArray"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consent-signatures/users/{id}/history": {
            "x-swagger-router-controller": "consent-signature.controller",
            "get": {
                "summary": "Gets history of consent signatures",
                "operationId": "getSignatureHistory",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "id",
                    "in": "path",
                    "description": "User id",
                    "required": true,
                    "type": "integer",
                    "minimum": 1
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentSignatureHistory"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consents": {
            "x-swagger-router-controller": "consent.controller",
            "post": {
                "summary": "Creates new consent",
                "operationId": "createConsent",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "newConsent",
                    "in": "body",
                    "description": "Consent object",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/newConsent"
                    }
                }],
                "responses": {
                    "201": {
                        "$ref": "#/responses/idSuccess"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "get": {
                "summary": "Gets all consents",
                "operationId": "listConsents",
                "security": [{
                    "admin": []
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consents"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consents/{id}": {
            "x-swagger-router-controller": "consent.controller",
            "parameters": [{
                "name": "id",
                "in": "path",
                "required": true,
                "type": "integer"
            }],
            "get": {
                "summary": "Gets consent",
                "operationId": "getConsent",
                "security": [{
                    "admin": []
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consent"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "delete": {
                "summary": "Deletes consent",
                "operationId": "deleteConsent",
                "security": [{
                    "admin": []
                }],
                "responses": {
                    "204": {
                        "description": "Successful response."
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consents/name/{name}": {
            "x-swagger-router-controller": "consent.controller",
            "parameters": [{
                "name": "name",
                "in": "path",
                "required": true,
                "type": "string"
            }],
            "get": {
                "summary": "Gets consent by name",
                "operationId": "getConsentByName",
                "security": [{
                    "admin": []
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consent"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consents/{id}/documents": {
            "x-swagger-router-controller": "consent.controller",
            "parameters": [{
                "name": "id",
                "in": "path",
                "required": true,
                "type": "integer"
            }],
            "get": {
                "summary": "Gets documents (sections)",
                "operationId": "getConsentDocuments",
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentWithDocuments"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consents/name/{name}/documents": {
            "x-swagger-router-controller": "consent.controller",
            "parameters": [{
                "name": "name",
                "in": "path",
                "required": true,
                "type": "string"
            }],
            "get": {
                "summary": "Gets documents (sections) by name",
                "operationId": "getConsentDocumentsByName",
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentWithDocuments"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consents/{id}/user-documents": {
            "x-swagger-router-controller": "consent.controller",
            "parameters": [{
                "name": "id",
                "in": "path",
                "required": true,
                "type": "integer"
            }],
            "get": {
                "summary": "Gets current user consents",
                "operationId": "getUserConsentDocuments",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentWithDocuments"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/consents/name/{name}/user-documents": {
            "x-swagger-router-controller": "consent.controller",
            "parameters": [{
                "name": "name",
                "in": "path",
                "required": true,
                "type": "string"
            }],
            "get": {
                "summary": "Gets current user consents by name",
                "operationId": "getUserConsentDocumentsByName",
                "security": [{
                    "participant": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language code",
                    "required": false,
                    "type": "string",
                    "minLength": 2
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/consentWithDocuments"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/languages": {
            "x-swagger-router-controller": "language.controller",
            "post": {
                "summary": "Creates new language",
                "operationId": "createLanguage",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "body",
                    "description": "New language object",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/language"
                    }
                }],
                "responses": {
                    "201": {
                        "$ref": "#/responses/idSuccess"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "get": {
                "summary": "Gets all languages",
                "operationId": "listLanguages",
                "security": [{
                    "participant": []
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/languages"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/languages/{code}": {
            "x-swagger-router-controller": "language.controller",
            "parameters": [{
                "name": "code",
                "in": "path",
                "required": true,
                "type": "string"
            }],
            "get": {
                "summary": "Gets language",
                "operationId": "getLanguage",
                "security": [{
                    "participant": []
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/language"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "patch": {
                "summary": "Updates language fields",
                "operationId": "patchLanguage",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "languageUpdate",
                    "in": "body",
                    "description": "Language fields to be updated",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/languageUpdate"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successful response."
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "delete": {
                "summary": "Deletes language",
                "operationId": "deleteLanguage",
                "security": [{
                    "admin": []
                }],
                "responses": {
                    "204": {
                        "description": "Successful response."
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/smtp": {
            "x-swagger-router-controller": "smtp.controller",
            "post": {
                "summary": "Update smtp settings",
                "operationId": "createSmtp",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "newSmtpSpec",
                    "in": "body",
                    "description": "Smtp specifications",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/newSmtpSpec"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successful response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "get": {
                "summary": "Gets smtp setting",
                "operationId": "getSmtp",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "query",
                    "description": "Language requested",
                    "required": false,
                    "type": "string",
                    "minLength": 1
                }],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "schema": {
                            "$ref": "#/definitions/smtpSpec"
                        }
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            },
            "delete": {
                "summary": "Deletes smtp setting",
                "operationId": "deleteSmtp",
                "security": [{
                    "admin": []
                }],
                "responses": {
                    "204": {
                        "description": "Successful response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        },
        "/smtp/text/{language}": {
            "x-swagger-router-controller": "smtp.controller",
            "patch": {
                "summary": "Updates or translates reset password text fields",
                "operationId": "updateSmtpText",
                "security": [{
                    "admin": []
                }],
                "parameters": [{
                    "name": "language",
                    "in": "path",
                    "description": "Language code",
                    "required": true,
                    "type": "string",
                    "minLength": 2
                }, {
                    "name": "textUpdate",
                    "in": "body",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/smtpSpecTextUpdate"
                    }
                }],
                "responses": {
                    "204": {
                        "description": "Successul response"
                    },
                    "default": {
                        "$ref": "#/responses/genericError"
                    }
                }
            }
        }
    },
    "securityDefinitions": {
        "admin": {
            "type": "apiKey",
            "in": "header",
            "name": "Authorization"
        },
        "participant": {
            "type": "apiKey",
            "in": "header",
            "name": "Authorization"
        },
        "self": {
            "type": "apiKey",
            "in": "header",
            "name": "Authorization"
        }
    },
    "responses": {
        "genericError": {
            "description": "Error response",
            "schema": {
                "$ref": "#/definitions/error"
            }
        },
        "idSuccess" : {
            "description": "Successful response",
            "schema": {
                "$ref": "#/definitions/id"
            }
        },
        "anyArray": {
            "description": "Unrestricted object.",
            "schema": {
                "type": "array",
                "items": {
                    "type": "object"
                }
            }
        }
    },
    "definitions": {
        "error": {
            "type": "object",
            "required": [
                "message"
            ],
            "properties": {
                "message": {
                    "type": "string"
                }
            }
        },
        "token": {
            "type": "object",
            "properties": {
                "token": {
                    "type": "string"
                }
            }
        },
        "id": {
            "description": "id",
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer"
                }
            }
        },
        "resetPasswordInfo": {
            "type": "object",
            "required": [
                "token",
                "password"
            ],
            "properties": {
                "token": {
                    "type": "string",
                    "minLength": 1
                },
                "password": {
                    "type": "string",
                    "minLength": 1
                }
            }
        },
        "user": {
            "type": "object",
            "properties": {
                "username": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "role": {
                    "type": "string"
                },
                "email": {
                    "type": "string",
                    "format": "email"
                }
            }
        },
        "userUpdate": {
            "type": "object",
            "properties": {
                "password": {
                    "type": "string"
                },
                "email": {
                    "type": "string",
                    "format": "email"
                }
            }
        },
        "questionType": {
            "type": "string",
            "enum": ["text", "bool", "choice", "choices"]
        },

        "newSurveyQuestion": {
            "type": "object",
            "description": "Describes either a brand new question (no 'id') or an existing question ('id' only with 'required').",
            "required": ["required"],
            "properties": {
                "required": {
                    "type": "boolean"
                },
                "id": {
                    "type": "integer"
                },
                "text": {
                    "type": "string",
                    "minLength": 1
                },
                "type": {
                    "$ref": "#/definitions/questionType"
                },
                "oneOfChoices": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "minItems": 1
                },
                "choices": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/newChoice"
                    },
                    "minItems": 1
                },
                "actions": {
                    "$ref": "#/definitions/newActions"
                }
            },
            "minProperties": 2,
            "additionalProperties": false
        },
        "newSection": {
            "type": "object",
            "required": ["name", "indices"],
            "properties": {
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "indices": {
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 0
                    }
                }
            },
            "additionalProperties": false
        },
        "newSections": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/newSection"
            },
            "minItems": 1
        },
        "section": {
            "type": "object",
            "required": ["id", "name", "indices"],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "indices": {
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 0
                    }
                }
            },
            "additionalProperties": false
        },
        "sectionTextUpdate": {
            "type": "object",
            "required": ["id", "name"],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "name": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "surveyMeta": {
            "type": "object",
            "properties": {}
        },
        "newSurvey": {
            "type": "object",
            "required": [
                "name",
                "questions"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "meta": {
                    "$ref": "#/definitions/surveyMeta"
                },
                "sections": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/newSection"
                    },
                    "minItems": 1
                },
                "questions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/newSurveyQuestion"
                    },
                    "minItems": 1
                }
            },
            "additionalProperties": false
        },
        "surveyQuestion": {
            "type": "object",
            "required": [
                "id",
                "text",
                "type",
                "required"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "text": {
                    "type": "string",
                     "minLength": 1
                },
                "type": {
                    "$ref": "#/definitions/questionType"
                },
                "required": {
                    "type": "boolean"
                },
                "choices": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/choice"
                    },
                    "minItems": 1
                },
                "actions": {
                    "$ref": "#/definitions/actions"
                 },
                "answer": {
                    "$ref": "#/definitions/answer"
                },
                "language": {
                    "type": "string",
                    "minLength": 2
                }
            },
            "additionalProperties": false
        },
        "survey": {
            "type": "object",
            "required": [
                "id",
                "name",
                "questions"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "name": {
                    "type": "string",
                     "minLength": 1
                },
                "meta": {
                    "$ref": "#/definitions/surveyMeta"
                },
                "sections": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/section"
                    },
                    "minItems": 1
                },
                "questions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/surveyQuestion"
                    },
                    "minItems": 1
                }
            },
            "additionalProperties": false
        },
        "surveyUpdate": {
            "type": "object",
            "properties": {
                "meta": {
                    "$ref": "#/definitions/surveyMeta"
                }
            },
            "minProperties": 1,
            "additionalProperties": false
        },
        "surveyTextUpdate": {
            "type": "object",
            "required": ["id", "name"],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "sections": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/sectionTextUpdate"
                    },
                    "minItems": 1
                }
            },
            "additionalProperties": false
        },
        "profileSurveyTextUpdate": {
            "type": "object",
            "required": ["name"],
            "properties": {
               "name": {
                    "type": "string",
                    "minLength": 1
                },
                "sections": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/sectionTextUpdate"
                    },
                    "minItems": 1
                }
            },
            "additionalProperties": false
        },
        "surveyInfo": {
            "type": "object",
            "required": ["id", "name"],
            "properties": {
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                }
            },
            "additionalProperties": false
        },
        "surveyDashboard": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/surveyInfo"
            }
        },
        "choiceType": {
            "type": "string",
            "enum": ["bool", "text"]
        },
        "choice": {
            "type": "object",
            "required": [
                "id",
                "text"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "text": {
                    "type": "string",
                     "minLength": 1
                },
                "type": {
                    "$ref": "#/definitions/choiceType"
                }
            }
        },
        "choiceTextUpdate": {
            "type": "object",
            "required": [
                "id",
                "text"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "text": {
                    "type": "string",
                     "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "choicesItem": {
            "type": "object",
            "required": ["id"],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "boolValue": {
                    "type": "boolean"
                },
                "textValue": {
                    "type": "string"
                }
            },
            "maxProperties": 2
        },
        "answer": {
            "type": "object",
            "properties": {
                "choice": {
                    "type": "integer",
                    "minimum": 1
                },
                "choices": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/choicesItem"
                    },
                    "minItems": 1
                },
                "textValue": {
                    "type": "string"
                },
                "boolValue": {
                    "type": "boolean"
                }
            },
            "minProperties": 1,
            "maxProperties": 1
        },
        "question": {
            "type": "object",
            "required": [
                "id",
                "text",
                "type"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "text": {
                    "type": "string",
                     "minLength": 1
                },
                "type": {
                    "$ref": "#/definitions/questionType"
                },
                "choices": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/choice"
                    }
                },
                "actions": {
                    "$ref": "#/definitions/actions"
                 },
                "answer": {
                    "$ref": "#/definitions/answer"
                }
            }
        },
        "questions": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/question"
            },
            "minLength": 1
        },
        "questionTextUpdate": {
            "type": "object",
            "required": [
                "id"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "text": {
                    "type": "string",
                     "minLength": 1
                },
                "choices": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/choiceTextUpdate"
                    }
                },
                "actions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/actionTextUpdate"
                    }
                 }
            },
            "additionalProperties": false,
            "minProperties": 2
        },
        "newChoice": {
            "type": "object",
            "required": ["text"],
            "properties": {
                "text": {
                    "type": "string",
                     "minLength": 1
                },
                "type": {
                    "$ref": "#/definitions/choiceType"
                }
            },
            "additionalProperties": false
        },
        "newQuestion": {
            "type": "object",
            "required": [
                "text",
                "type"
            ],
            "properties": {
                "text": {
                    "type": "string",
                    "minLength": 1
                },
                "type": {
                    "$ref": "#/definitions/questionType"
                },
                "oneOfChoices": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "choices": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/newChoice"
                    }
                },
                "actions": {
                    "$ref": "#/definitions/newActions"
                }
            },
            "additionalProperties": false
        },
        "linkedAnswer": {
            "type": "object",
            "required": [
                "questionId"
            ],
            "properties": {
                "questionId": {
                    "type": "integer",
                    "minimum": 1
                },
                "answer": {
                    "$ref": "#/definitions/answer"
                }
            }
        },
        "linkedAnswers": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/linkedAnswer"
            }
        },
        "newUserProfile": {
            "type": "object",
            "required": [
                "user"
            ],
            "properties": {
                "user": {
                    "$ref": "#/definitions/user"
                },
                "answers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/linkedAnswer"
                    }
                }
            }
        },
        "updateUserProfile": {
            "type": "object",
            "required": ["user"],
            "properties": {
                "user": {
                    "$ref": "#/definitions/userUpdate"
                },
                "answers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/linkedAnswer"
                    }
                }
            }
        },
        "surveyAnswers": {
            "type": "object",
            "required": [
                "surveyId",
                "answers"
            ],
            "properties": {
                "surveyId": {
                    "type": "integer",
                    "minimum": 1
                },
                "answers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/linkedAnswer"
                    },
                    "minItems": 1
                }
            }
        },
        "userProfile": {
            "type": "object",
            "properties": {
                "user": {
                    "$ref": "#/definitions/user"
                },
                "survey": {
                    "$ref": "#/definitions/survey"
                }
            }
        },
        "newAction": {
            "type": "object",
            "required": ["text", "type"],
            "properties": {
                "text": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            },
            "additionalProperties": false
        },
        "action": {
            "type": "object",
            "required": ["id", "text", "type"],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "text": {
                    "type": "string",
                    "minLength": 1
                },
                "type": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "actionTextUpdate": {
            "type": "object",
            "required": ["id", "text"],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "text": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "newActions": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/newAction"
            }
        },
        "actions": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/action"
            }
        },
        "newConsent": {
            "type": "object",
            "required": [
                "name",
                "sections"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "sections": {
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "minItems": 1
                }
            },
            "additionalProperties": false
        },
        "consent": {
            "type": "object",
            "required": [
                "id",
                "name",
                "sections"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "sections": {
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "minItems": 1
                }
            },
            "additionalProperties": false
        },
        "consents": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/consent"
            }
        },
        "consentWithDocuments": {
            "type": "object",
            "required": [
                "id",
                "name",
                "sections"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "sections": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/consentSectionDocument"
                    }
                }
            },
            "additionalProperties": false
        },
        "signedConsentDocument": {
            "type": "object",
            "required": ["consentDocumentId"],
            "properties": {
                "consentDocumentId": {
                    "type": "integer",
                    "minimum": 1
                }
            },
            "additionalProperties": false
        },
        "signedConsentDocuments": {
            "type": "array",
            "items": {
                "type": "integer",
                "minimum": 1
            }
        },
        "consentSectionDocument": {
            "type": "object",
            "required": [
                "id",
                "name",
                "title",
                "type",
                "content"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "title": {
                    "type": "string",
                    "minLength": 1
                },
                "type": {
                    "type": "string",
                    "minLength": 1
                },
                "content": {
                    "type": "string",
                    "minLength": 1
                },
                "updateComment": {
                    "type": ["string", "null"]
                },
                "signature": {
                    "type": "boolean"
                },
                "language": {
                    "type": "string",
                    "minLength": 2
                }
            },
            "additionalProperties": false
        },
        "consentType": {
            "type": "object",
            "required": ["id", "name", "title", "type"],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "title": {
                    "type": "string",
                    "minLength": 1
                },
                "type": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "consentTypes": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/consentType"
            }
        },
        "newConsentDocument": {
            "type": "object",
            "required": ["typeId", "content"],
            "properties": {
                "typeId": {
                    "type": "integer"
                },
                "content": {
                    "type": "string",
                    "minLength": 1
                },
                "updateComment": {
                    "type": ["string", "null"]
                }
            },
            "additionalProperties": false
        },
        "consentDocument": {
            "type": "object",
            "required": ["id", "typeId", "content"],
            "properties": {
                "id": {
                    "type": "integer"
                },
                "typeId": {
                    "type": "integer"
                },
                "content": {
                    "type": "string",
                    "minLength": 1
                },
                "updateComment": {
                    "type": ["string", "null"]
                }
            },
            "additionalProperties": false
        },
        "consentDocumentWithSignature": {
            "type": "object",
            "required": ["id", "typeId", "content", "signature"],
            "properties": {
                "id": {
                    "type": "integer"
                },
                "typeId": {
                    "type": "integer"
                },
                "content": {
                    "type": "string",
                    "minLength": 1
                },
                "updateComment": {
                    "type": ["string", "null"]
                },
                "signature": {
                    "type": "boolean"
                },
                "language": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "consentUpdateComments": {
            "type": "array",
            "items": {
                "type": ["string", "null"]
            }
        },
        "consentDocumentInfo": {
            "type": "object",
            "required": ["id", "name", "title"],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "title": {
                    "type": "string",
                    "minLength": 1
                },
                "type": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "consentDocumentDashboard": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/consentDocumentInfo"
            }
        },
        "consentTypeTextUpdate": {
            "type": "object",
            "required": ["id", "title"],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "title": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "consentDocumentTextUpdate": {
            "type": "object",
            "required": ["id", "content"],
            "properties": {
                "id": {
                    "type": "integer",
                    "minimum": 1
                },
                "content": {
                    "type": "string",
                    "minLength": 1
                },
                "updateComment": {
                    "type": ["string", "null"],
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "consentSignatureHistory": {
            "type": "array",
            "items": {
                "type": "object",
                "required": ["id", "language"],
                "properties": {
                    "id": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "language": {
                        "type": "string",
                        "minLength": 2
                    }
                },
                "additionalProperties": false
            }
        },
        "language": {
            "type": "object",
            "required": ["code", "name", "nativeName"],
            "properties": {
                "code": {
                    "type": "string",
                    "minLength": 1
                },
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "nativeName": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "languages": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/language"
            }
        },
        "languageUpdate": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "minLength": 1
                },
                "nativeName": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
       },
       "smtpSpec": {
            "type": ["object", "null"],
            "required": ["protocol", "username", "password", "host", "from", "otherOptions"],
            "properties": {
                "protocol": {
                    "type": "string",
                    "minLength": 1
                },
                "username": {
                    "type": "string",
                    "minLength": 1
                },
                "password": {
                    "type": "string",
                    "minLength": 1
                },
                "host": {
                    "type": "string",
                    "minLength": 1
                },
                "from": {
                    "type": "string",
                    "minLength": 1
                },
                "otherOptions": {
                    "type": "object"
                },
                "content": {
                    "type": "string",
                    "minLength": 1
                },
                "subject": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "newSmtpSpec": {
            "type": "object",
            "required": ["protocol", "username", "password", "host", "from", "otherOptions"],
            "properties": {
                "protocol": {
                    "type": "string",
                    "minLength": 1
                },
                "username": {
                    "type": "string",
                    "minLength": 1
                },
                "password": {
                    "type": "string",
                    "minLength": 1
                },
                "host": {
                    "type": "string",
                    "minLength": 1
                },
                "from": {
                    "type": "string",
                    "minLength": 1
                },
                "otherOptions": {
                    "type": "object"
                },
                "content": {
                    "type": "string",
                    "minLength": 1
                },
                "subject": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
       "smtpSpecTextUpdate": {
            "type": "object",
            "required": ["subject", "content"],
            "properties": {
                "content": {
                    "type": "string",
                    "minLength": 1
                },
                "subject": {
                    "type": "string",
                    "minLength": 1
                }
            },
            "additionalProperties": false
        },
        "resetTokenRecipient": {
            "type": "object",
            "required": ["email"],
            "properties": {
                "email": {
                    "type": "string",
                    "format": "email"
                },
                "language": {
                    "type": "string",
                    "minLength": 2
                }
            },
            "additionalProperties": false
        }
    }
}
